<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kokatlas</title>
  <style>
    html, body {
      margin: 0; padding: 0; width: 100%; height: 100%;
      overflow: hidden; background: #000; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    #viewport {
      width: 100vw; height: 100vh; overflow: hidden;
      cursor: grab; user-select: none;
    }
    #viewport:active { cursor: grabbing; }
    
    #map {
      width: 500%; height: 100%; display: flex;
      transform-origin: center center;
    }
    .tile {
      flex: 0 0 20%;
      background: url('dunya-fiziki-haritasi-dilsiz-2196-1000-1000.jpg') center/100% 100% no-repeat;
    }

    #intro-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.75);
      z-index: 999;
      display: flex; justify-content: center; align-items: center;
      transition: opacity 1.5s ease-out;
    }

    #start-btn {
      padding: 15px 40px;
      font-size: 28px;
      font-family: 'Times New Roman', Times, serif;
      font-weight: bold;
      color: #000;
      background: #fff;
      border: 4px solid #000;
      border-radius: 8px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.8s ease-in;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }

    #start-btn:hover {
      background: #f0f0f0;
      box-shadow: 0 0 25px rgba(255, 255, 255, 0.6);
    }

    .btn-zoom-effect {
      transform: scale(30); 
      opacity: 0;
    }

    .fade-out {
      opacity: 0;
      pointer-events: none;
    }

    #search-container {
      position: fixed;
      top: 15px; left: 50%; transform: translateX(-50%);
      z-index: 100;
      width: 300px;
      opacity: 0;
      transition: opacity 1s ease 1s;
      pointer-events: none;
    }
    
    #search-container.visible {
      opacity: 1; pointer-events: auto;
    }

    #search-bar {
      background: rgba(0,0,0,0.85); padding: 10px 16px; border-radius: 10px;
      display: flex; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }

    #search-bar input {
      width: 100%; height: 34px; border-radius: 6px; border: none;
      background: transparent; color: #fff; outline: none; font-size: 16px;
    }

    #suggestions {
      background: #1a1a1a; width: 100%; max-height: 300px; overflow-y: auto;
      border-radius: 0 0 10px 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.5);
      display: none; margin-top: 2px;
    }

    .suggestion-item {
      padding: 12px 16px; color: #ccc; cursor: pointer; border-top: 1px solid #333; font-size: 14px;
      transition: background 0.2s;
    }
    .suggestion-item:hover { background: #333; color: #fff; }

    #result {
      position: fixed; 
      top: 50%; 
      left: 50%; 
      transform: translate(150vw, -50%); 
      
      background: #111; 
      border: 2px solid #444; 
      border-radius: 12px;
      z-index: 50; 
      width: 700px;
      max-width: 90vw; 
      height: 420px;
      max-height: 80vh;
      color: #fff;
      box-shadow: 0 0 30px rgba(0,0,0,0.9);
      
      display: flex;
      overflow: hidden;
      
      transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
      visibility: hidden;
    }

    #result.active {
      transform: translate(-50%, -50%);
      visibility: visible;
    }

    .result-left {
      flex: 1;
      display: flex;
      flex-direction: column;
      border-right: 1px solid #333;
    }

    .result-left img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 10px 0 0 0; 
    }

    #info { 
      padding: 15px; 
      line-height: 1.5; 
      font-size: 14px; 
      overflow-y: auto;
    }

    .result-right {
      flex: 1;
      background: #181818;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .context-header {
      padding: 12px 15px;
      background: #222;
      border-bottom: 1px solid #333;
      font-size: 16px;
      font-weight: bold;
      color: #ddd;
    }

    #context-text {
      padding: 15px;
      font-size: 13px;
      line-height: 1.6;
      color: #ccc;
      overflow-y: auto;
      height: 100%;
      text-align: justify;
    }

    #context-text::-webkit-scrollbar {
      width: 8px;
    }
    #context-text::-webkit-scrollbar-track {
      background: #2a2a2a; 
    }
    #context-text::-webkit-scrollbar-thumb {
      background: #666; 
      border-radius: 4px;
      border: 1px solid #2a2a2a;
    }
    #context-text::-webkit-scrollbar-thumb:hover {
      background: #888; 
    }

    #close { position: absolute; top: 10px; right: 15px; cursor: pointer; font-size: 20px; color: #fff; z-index: 10; background: rgba(0,0,0,0.5); padding: 2px 8px; border-radius: 5px; }
    #close:hover { background: rgba(255,0,0,0.7); }

    @media (max-width: 768px) {
      #result { flex-direction: column; height: 80vh; width: 90vw; overflow-y: auto; }
      .result-left, .result-right { flex: none; width: 100%; border-right: none; }
      .result-left img { height: 180px; }
      .result-right { height: auto; min-height: 250px; }
    }

  </style>
</head>
<body>

<div id="intro-overlay">
  <button id="start-btn">Aratmaya Başla</button>
</div>

<div id="search-container">
  <div id="search-bar">
    <input id="search" type="text" placeholder="Kelime ara..." autocomplete="off" />
  </div>
  <div id="suggestions"></div>
</div>

<div id="viewport">
  <div id="map">
    <div class="tile"></div>
    <div class="tile"></div>
    <div class="tile"></div>
    <div class="tile"></div>
    <div class="tile"></div>
  </div>
</div>

<div id="result">
  <div id="close">✕</div>
  
  <div class="result-left">
    <img id="result-img" />
    <div id="info"></div>
  </div>

  <div class="result-right">
    <div class="context-header">Coğrafi & Tarihsel Bağlam</div>
    <div id="context-text"></div>
  </div>
</div>

<script>
const contextData = {
  "İtalya": "Türkçenin İtalyancadan etkilenmesi, özellikle 15. yy. itibarı ile Orta Çağın son dönemlerinde Osmanlı Devleti ile İtalyan coğrafyasının Akdeniz merkezli ticaret ilişkileri sayesinde birbiri ile sosyal ve ekonomik etkileşimde bulunması ile başlamıştır. Özellikle Ceneviz ve Venedik gibi denizci ticaret devletleri, Bizans ve sonrasında da Bizans’ın var olduğu coğrafyada kısmen yerini almış olan Osmanlı Devleti ile uzun süreli ticari ve diplomatik temaslarda bulunmuştur. Bu uzun süreli kültürel etkileşimlerin doğal bir sonucu olarak ise Türkçeye birçok İtalyanca kelimenin geçmesi ve İtalyancaya da birçok Türkçe kelimenin geçmesi kaçınılmaz olmuştur.",
  
  "Yunanistan": "Türkçenin Yunancadan etkilenmesi Türklerin Anadolu’yu 11. yy. itibarı ile yurt edinmesi ile başlamıştır. Türklerin Anadolu coğrafyasına gelişi ile beraber Türklerin Anadolu’da bulunan Rumlar, Ermeniler vb. topluluklar ile uzun süreli kültürel etkileşimi başlamış oldu yaklaşık bin yıl boyunca Kurtuluş Savaşı sonrası yapılan nüfus mübadelesine kadar bu etkileşim hızla devam etti. Nüfus mübadelesi sonrası Yunanistan’da yaşayan Türklerin Türkiye’ye gelişi ve Anadolu’da yaşayan Rumlarınsa Yunanistan’a gitmesi ile beraber bu etkileşimin hızı ciddi ölçüde yavaşladı. Doğal olarak bu bin yıllık etkileşimin sonunda her iki dil de birbirlerinden etkilenmiştir.",
  
  "Orta Asya": "Türkçedeki Orta Asya kökenli kelimeler, Türklerin tarihteki ilk dönemlerinden itibaren oluşan Türklerin de zaten tarih sahnesine çıktığı coğrafya olan Orta Asya’daki yaşam tarzı ve kültürel etkileşimlerinin doğurmuş olduğu neredeyse tamamı bizzat öz Türkçeye ait olan kelimelerdir. Bu kelimeler genel itibari ile Türkçenin temel söz varlığının yani kelime hazinesinin oluşmasına katkı sağlamıştır. Tarihte Türklerle birlikte Orta Asya’da yaşamış olan birçok Türk olmayan kabilenin (Toharca konuşan kabileler, Hun konfederasyonundaki Türk olmayan kabileler vb.) tarihi süreçte Türkleşmesi ve ya Türkler içinde asimile olması ile de bu kabilelerin konuşmuş olduğu çeşitli tarihi dillerden kelimeler Türkçeye geçmiş olabilir ancak bu sözcük geçişlerini Türkçenin oluşum süreci olarak değerlendirmek daha doğru olacaktır.",
  
  "Türk Cumhuriyetleri": "Türkçedeki Orta Asya kökenli kelimeler, Türklerin tarihteki ilk dönemlerinden itibaren oluşan Türklerin de zaten tarih sahnesine çıktığı coğrafya olan Orta Asya’daki yaşam tarzı ve kültürel etkileşimlerinin doğurmuş olduğu neredeyse tamamı bizzat öz Türkçeye ait olan kelimelerdir. Bu kelimeler genel itibari ile Türkçenin temel söz varlığının yani kelime hazinesinin oluşmasına katkı sağlamıştır.",
  
  "Türk Devletleri": "Türkçedeki Orta Asya kökenli kelimeler, Türklerin tarihteki ilk dönemlerinden itibaren oluşan Türklerin de zaten tarih sahnesine çıktığı coğrafya olan Orta Asya’daki yaşam tarzı ve kültürel etkileşimlerinin doğurmuş olduğu neredeyse tamamı bizzat öz Türkçeye ait olan kelimelerdir.",

  "Arap Yarımadası": "Türkçede bulunan Arap Yarımadası kökenli kelimeler Türklerin İslamiyet’i kabulü(8-10. yy.) ile başlayan dini, bilimsel ve kültürel etkileşimlerin bir sonucudur. Türklerin Arap Yarımadasındaki uzun süreli varlığı ve bölge ile ticari ve dini ilişkileri sebebi ile birçok Arap Yarımadası kökenli kelimenin Türkçeye geçmesi kaçınılmaz olmuştur.",
  
  "İran": "Türkçede yer alan İran kökenli kelimelerin Türkçeye geçiş süreci Türklerin Orta Asya’daki yaşamları sırasında İrani halklar(Soğdlar vb.) ile etkileşime girmesi ile başlamıştır. Ancak bu kültürel etkileşim Türklerin İran coğrafyasında devletler kurmaya başlaması ile hız kazanmıştır. Türkler bir kısmının bu İran coğrafi sahasında yaşamaya başlaması ve Selçuklu ve Osmanlı Devletlerinde Farsçanın edebiyat dili olarak görülmesi İran kökenli kelimelerin Türkçeye geçişini hızlandırmıştır.",
  
  "Suriye": "Türkçedeki Suriye coğrafyasıyla ilişkili kelimelerin varlığı, Türklerin İslamiyet’i kabulünden sonra Şam merkezli Arap-İslam dünyasıyla etkileşimleri sayesinde oluşmuştur. Bu süreçte din, hukuk ve şehir yaşamına ait çoğunluğu Arapça kökenli kelimeler Osmanlı Türkçesi aracılığıyla Türkçeye girmiş ve kalıcı hâle gelmiştir.",
  
  "Çin": "Türkçedeki Çin ile ilişkili kelime ve kavramlar, Türklerin Orta Asya’da Çin ile kurduğu erken dönem siyasî, askerî ve ticari etkileşimlere dayanır. Bu etkileşimler sonucunda özellikle diplomasi ve kültür alanlarına ait unsurlar Türkçeye girmiştir, ancak bu unsurlar erken dönemde benimsendiği için bu kelimeleri Türkçenin oluşum sürecinde de değerlendirmek yanlış olmayacaktır. Bu durum, Çin coğrafyasının Türkçenin en eski etkileşim alanlarından biri olduğunu bizlere göstermektedir.",
  
  "Fransa": "Türkçenin Fransa kökenli kelime varlığı, 18. ve 19. yüzyıllarda Osmanlı Devleti’nin Batı’ya yönelme ve modernleşme politikası sebebi ile ortaya çıkmıştır. Diplomasi, askerî düzen, bilim ve sanat gibi alanlarda Fransızcanın değer kazanması sonucunda birçok kelime Fransızcadan Türkçeye girmiş, bu kelimelerse zaman içerisinde Türkçede kalıcı hale gelmiştir.",
  
  "Anadolu": "Türkçenin Anadolu ile ilişkili kelime varlığı, Türklerin 11. yüzyıldan itibaren Anadolu’ya yerleşmesi ve burada yaşayan yerli halklarla kurduğu etkileşimler sonucunda oluşmuştur. Bu süreçte Anadolu’daki eski kültürlerin, yer adlarının ve günlük yaşama ait bazı kavramların Türkçeye uyarlanmasıyla Türk dili zenginleşmiştir ve böylece Anadolu Türkçesi kendine özgü bir karakter kazanarak günümüz Türkçesinin oluşumunda büyük katkı sağlamıştır.",
  
  "İngiltere": "Türkçedeki İngiltere kökenli kelimelerin Türkçeye geçişi 20. yy itibarı ile teknoloji bilim, sanat gibi alanların ve Küresel iletişimde 20. yy. itibarı ile İngilizcenin uluslararası küresel bir dil kabul edilişi ile başlamıştır. Birçok kelimenin günümüzde de halen İngilizceden Türkççeye geçişi devam etmektedir.",

  "Orta Doğu": "Türkçede bulunan Orta Doğu ve Arap Yarımadası kökenli kelimeler Türklerin İslamiyet’i kabulü ile başlayan dini, bilimsel ve kültürel etkileşimlerin bir sonucudur. Bölge ile ticari ve dini ilişkiler sebebi ile birçok kelimenin Türkçeye geçmesi kaçınılmaz olmuştur."
};

const database = {
  "masa": { region: "İtalya", language: "İtalyanca", original: "mensa", image: "İtalya.jpg" },
  "kapı": { region: "Orta Asya", language: "Eski Türkçe", original: "kap-", image: "Orta Asya.jpg" },
  "şehir": { region: "İran", language: "Farsça", original: "şahr", image: "Iran.jpg" },
  "kalem": { region: "Arap Yarımadası", language: "Arapça", original: "kalam", image: "Arap Yarımadası.jpg" },
  "çiçek": { region: "Orta Asya", language: "Eski Türkçe", original: "çiçek", image: "Orta Asya.jpg" },
  "gölge": { region: "Orta Asya", language: "Eski Türkçe", original: "kölige", image: "Orta Asya.jpg" },
  "rüzgâr": { region: "İran", language: "Farsça", original: "rūzgār", image: "Iran.jpg" },
  "bulut": { region: "Orta Asya", language: "Eski Türkçe", original: "bulıt", image: "Orta Asya.jpg" },
  "nokta": { region: "Arap Yarımadası", language: "Arapça", original: "nukta", image: "Arap Yarımadası.jpg" },
  "harita": { region: "Arap Yarımadası", language: "Arapça", original: "χarīṭa", image: "Arap Yarımadası.jpg" },
  "pencere": { region: "İran", language: "Farsça", original: "pancar", image: "Iran.jpg" },
  "sandalye": { region: "Arap Yarımadası", language: "Arapça", original: "ṣandal", image: "Arap Yarımadası.jpg" },
  "kumsal": { region: "Türk Cumhuriyetleri", language: "Türkçe", original: "kum, sal", image: "Orta Asya.jpg" },
  "dalga": { region: "Anadolu", language: "Türkiye Türkçesi", original: "dal-", image: "Anadolu.jpg" },
  "tarla": { region: "Orta Asya", language: "Eski Türkçe", original: "tar-", image: "Orta Asya.jpg" },
  "yoğurt": { region: "Orta Asya", language: "Eski Türkçe", original: "yoğur-", image: "Orta Asya.jpg" },
  "bilezik": { region: "Orta Asya", language: "Eski Türkçe", original: "bilersük", image: "Orta Asya.jpg" },
  "yelken": { region: "Türk Cumhuriyetleri", language: "Türkçe", original: "yélegen", image: "Orta Asya.jpg" },
  "merdiven": { region: "İran", language: "Farsça", original: "nardibān", image: "Iran.jpg" },
  "süt": { region: "Orta Asya", language: "Eski Türkçe", original: "süt", image: "Orta Asya.jpg" },
  "zeytin": { region: "Arap Yarımadası", language: "Arapça", original: "zaytūn", image: "Arap Yarımadası.jpg" },
  "eldiven": { region: "Türk Cumhuriyetleri, İran", language: "Türkçe, Farsça", original: "el, tuvān", image: "Iran.jpg" },
  "defter": { region: "Arap Yarımadası", language: "Arapça", original: "daftar", image: "Arap Yarımadası.jpg" },
  "kitap": { region: "Arap Yarımadası", language: "Arapça", original: "kitāb", image: "Arap Yarımadası.jpg" },
  "heykel": { region: "Arap Yarımadası", language: "Arapça", original: "haykal", image: "Arap Yarımadası.jpg" },
  "fırtına": { region: "İtalya", language: "İtalyanca", original: "fortuna", image: "İtalya.jpg" },
  "sütun": { region: "İran", language: "Farsça", original: "sutūn", image: "Iran.jpg" },
  "boya": { region: "Orta Asya", language: "Eski Türkçe", original: "bodu-", image: "Orta Asya.jpg" },
  "koku": { region: "Anadolu", language: "Türkçe", original: "koku", image: "Anadolu.jpg" },
  "çivi": { region: "Orta Doğu", language: "Ana Türkçe", original: "çıw", image: "OrtaDogu.jpg" },
  "perde": { region: "İran", language: "Farsça", original: "parde", image: "Iran.jpg" },
  "köprü": { region: "Orta Asya", language: "Eski Türkçe", original: "köpür-", image: "Orta Asya.jpg" },
  "araba": { region: "İran", language: "Hotan Saka", original: "rraha", image: "Iran.jpg" },
  "buhar": { region: "Arap Yarımadası", language: "Arapça", original: "buχār", image: "Arap Yarımadası.jpg" },
  "tünel": { region: "Fransa", language: "Fransızca", original: "tunnel", image: "Fransa.jpg" },
  "teker": { region: "Türk Cumhuriyetleri", language: "Türkçe", original: "tekerlek", image: "Orta Asya.jpg" },
  "liman": { region: "Yunanistan", language: "Yeni Yunanca", original: "liméni", image: "Yunanistan.jpg" },
  "ada": { region: "Orta Doğu", language: "Ana Türkçe", original: "?", image: "OrtaDogu.jpg" },
  "otobüs": { region: "Fransa", language: "Fransızca", original: "autobus", image: "Fransa.jpg" },
  "balina": { region: "İtalya", language: "İtalyanca", original: "balena", image: "İtalya.jpg" },
  "kutup": { region: "Arap Yarımadası", language: "Arapça", original: "ḳuṭb", image: "Arap Yarımadası.jpg" },
  "çekiç": { region: "İran", language: "Farsça", original: "çakuş", image: "Iran.jpg" },
  "gülmek": { region: "Arap Yarımadası", language: "Arapça", original: "imlāˀ", image: "Arap Yarımadası.jpg" },
  "ustura": { region: "İran", language: "Farsça", original: "usture", image: "Iran.jpg" },
  "tabak": { region: "Arap Yarımadası", language: "Arapça", original: "ṭabaḳ", image: "Arap Yarımadası.jpg" },
  "fincan": { region: "Arap Yarımadası", language: "Arapça", original: "fincān", image: "Arap Yarımadası.jpg" },
  "ütü": { region: "Orta Asya", language: "Eski Türkçe", original: "üt-", image: "Orta Asya.jpg" },
  "çorap": { region: "Arap Yarımadası", language: "Arapça", original: "cirāb", image: "Arap Yarımadası.jpg" },
  "gömlek": { region: "Orta Asya", language: "Eski Türkçe", original: "köŋlek", image: "Orta Asya.jpg" },
  "yastık": { region: "Orta Asya", language: "Eski Türkçe", original: "yasta-", image: "Orta Asya.jpg" },
  "çatı": { region: "Türk Cumhuriyetleri", language: "Türkçe", original: "çat-", image: "Orta Asya.jpg" },
  "tuğla": { region: "Yunanistan", language: "Yeni Yunanca", original: "toúgla", image: "Yunanistan.jpg" },
  "çimento": { region: "İtalya", language: "İtalyanca", original: "cimento", image: "İtalya.jpg" },
  "bıçak": { region: "Orta Asya", language: "Eski Türkçe", original: "biç-", image: "Orta Asya.jpg" },
  "kadeh": { region: "Arap Yarımadası", language: "Arapça", original: "ḳadaḥ", image: "Arap Yarımadası.jpg" },
  "melodi": { region: "Fransa", language: "Fransızca", original: "mélodie", image: "Fransa.jpg" },
  "fener": { region: "Yunanistan", language: "Yeni Yunanca", original: "fanári", image: "Yunanistan.jpg" },
  "buz": { region: "Orta Asya", language: "Eski Türkçe", original: "bu-", image: "Orta Asya.jpg" },
  "saat": { region: "Arap Yarımadası", language: "Arapça", original: "sāˁa", image: "Arap Yarımadası.jpg" },
  "pusula": { region: "İtalya", language: "İtalyanca", original: "bussola", image: "İtalya.jpg" },
  "anahtar": { region: "Yunanistan", language: "Yeni Yunanca", original: "aniχtēri", image: "Yunanistan.jpg" },
  "kuş": { region: "Orta Asya", language: "Eski Türkçe", original: "kuş", image: "Orta Asya.jpg" },
  "balık": { region: "Orta Doğu", language: "Ana Türkçe", original: "bālık", image: "OrtaDogu.jpg" },
  "kaplan": { region: "Orta Asya", language: "Eski Türkçe", original: "kap-", image: "Orta Asya.jpg" },
  "ceylan": { region: "İran", language: "Farsça", original: "carān", image: "Iran.jpg" },
  "geyik": { region: "Orta Asya", language: "Eski Türkçe", original: "keyik", image: "Orta Asya.jpg" },
  "mısır": { region: "Suriye", language: "Arapça", original: "miṣr", image: "Suriye.jpg" },
  "lahana": { region: "Yunanistan", language: "Yeni Yunanca", original: "láχano", image: "Yunanistan.jpg" },
  "tencere": { region: "İran", language: "Farsça", original: "tangīre", image: "Iran.jpg" },
  "tava": { region: "İran", language: "Farsça", original: "tābe", image: "Iran.jpg" },
  "lamba": { region: "Yunanistan", language: "Yeni Yunanca", original: "lambá", image: "Yunanistan.jpg" },
  "mercek": { region: "Türk Cumhuriyetleri", language: "Türkçe", original: "mercimek", image: "Orta Asya.jpg" },
  "dürbün": { region: "İran", language: "Farsça", original: "dūr", image: "Iran.jpg" },
  "radyo": { region: "İngiltere", language: "İngilizce", original: "radio", image: "Ingiltere.jpg" },
  "kamera": { region: "İngiltere", language: "İngilizce", original: "camera", image: "Ingiltere.jpg" },
  "ekran": { region: "Fransa", language: "Fransızca", original: "écran", image: "Fransa.jpg" },
  "kağıt": { region: "İran", language: "Farsça", original: "kāġad", image: "Iran.jpg" },
  "tuş": { region: "Fransa", language: "Fransızca", original: "touche", image: "Fransa.jpg" },
  "çanta": { region: "İran", language: "Farsça", original: "tançe", image: "Iran.jpg" },
  "kemer": { region: "İran", language: "Farsça", original: "kamar", image: "Iran.jpg" },
  "para": { region: "İran", language: "Farsça", original: "pāre", image: "Iran.jpg" },
  "cüzdan": { region: "İran", language: "Farsça", original: "cuzdān", image: "Iran.jpg" },
  "kıyafet": { region: "Arap Yarımadası", language: "Arapça", original: "ḳiyāfa", image: "Arap Yarımadası.jpg" },
  "çoban": { region: "İran", language: "Farsça", original: "şivān", image: "Iran.jpg" },
  "raf": { region: "Arap Yarım Adası", language: "Arapça", original: "raff", image: "Arap Yarımadası.jpg" },
  "karyola": { region: "İtalya", language: "Venedikçe", original: "cariòla", image: "Venedik.jpg" },
  "kaptan": { region: "İtalya", language: "Venedikçe", original: "capitán", image: "Venedik.jpg" },
  "sabun": { region: "Arap Yarımadası", language: "Arapça", original: "ṣabūn", image: "Arap Yarımadası.jpg" },
  "sünger": { region: "Yunanistan", language: "Yeni Yunanca", original: "sfungári", image: "Yunanistan.jpg" },
  "havlu": { region: "Türk Devletleri", language: "Türkçe", original: "hav", image: "Orta Asya.jpg" },
  "metal": { region: "Fransa", language: "Fransızca", original: "métal", image: "Fransa.jpg" },
  "kilim": { region: "İran", language: "Farsça", original: "gilīm", image: "Iran.jpg" },
  "nilüfer": { region: "İran", language: "Farsça", original: "līlūpal", image: "Iran.jpg" },
  "omuz": { region: "Orta Doğu", language: "Ana Türkçe", original: "omuŕ", image: "OrtaDogu.jpg" },
  "dirsek": { region: "Orta Asya", language: "Eski Türkçe", original: "tirsgek", image: "Orta Asya.jpg" },
  "bilek": { region: "Orta Asya", language: "Eski Türkçe", original: "bél", image: "Orta Asya.jpg" },
  "kuyruk": { region: "Orta Asya", language: "Eski Türkçe", original: "kudruk", image: "Orta Asya.jpg" },
  "çamur": { region: "Orta Doğu", language: "Ana Türkçe", original: "çap-", image: "OrtaDogu.jpg" },
  "toprak": { region: "Orta Asya", language: "Eski Türkçe", original: "topur-", image: "Orta Asya.jpg" },
  "dağ": { region: "Orta Asya", language: "Eski Türkçe", original: "tāğ", image: "Orta Asya.jpg" },
  "vadi": { region: "Arap Yarımadası", language: "Arapça", original: "wādī", image: "Arap Yarımadası.jpg" },
  "ova": { region: "İran", language: "Farsça", original: "ābād", image: "Iran.jpg" },
  "göl": { region: "Orta Asya", language: "Eski Türkçe", original: "köl", image: "Orta Asya.jpg" },
  "nehir": { region: "Arap Yarımadası", language: "Arapça", original: "nahr", image: "Arap Yarımadası.jpg" },
  "akmak": { region: "Arap Yarımadası", language: "Arapça", original: "imlā", image: "Arap Yarımadası.jpg" },
  "orman": { region: "Orta Asya", language: "Eski Türkçe", original: "?", image: "Orta Asya.jpg" },
  "meşe": { region: "İran", language: "Farsça", original: "bēşe", image: "Iran.jpg" },
  "ladin": { region: "Arap Yarımadası", language: "Arapça", original: "lādan", image: "Arap Yarımadası.jpg" },
  "kavak": { region: "İran", language: "Farsça", original: "kāvak", image: "Iran.jpg" },
  "sandal": { region: "Arap Yarımadası", language: "Arapça", original: "ṣandal", image: "Arap Yarımadası.jpg" },
  "zincir": { region: "İran", language: "Farsça", original: "zancir", image: "Iran.jpg" },
  "kanca": { region: "İtalya", language: "İtalyanca", original: "gancio", image: "İtalya.jpg" },
  "kazık": { region: "Orta Asya", language: "Eski Türkçe", original: "kaz-", image: "Orta Asya.jpg" },
  "duvar": { region: "İran", language: "Farsça", original: "dīvār", image: "Iran.jpg" },
  "çapa": { region: "Türk Devletleri", language: "Türkçe", original: "çap-", image: "Orta Asya.jpg" },
  "yel": { region: "Orta Asya", language: "Eski Türkçe", original: "yél", image: "Orta Asya.jpg" },
  "duman": { region: "Orta Asya", language: "Eski Türkçe", original: "tuman", image: "Orta Asya.jpg" },
  "ateş": { region: "İran", language: "Farsça", original: "ātaş", image: "Iran.jpg" },
  "kıvılcım": { region: "Türk Devletleri", language: "Türkçe", original: "kığılça-", image: "Orta Asya.jpg" },
  "peçete": { region: "İtalya", language: "İtalyanca", original: "pezzetto", image: "İtalya.jpg" },
  "aba": { region: "Arap Yarımadası", language: "Arapça", original: "ḳabā", image: "Arap Yarımadası.jpg" },
  "abajur": { region: "Fransa", language: "Fransızca", original: "abat-jour", image: "Fransa.jpg" },
  "abaküs": { region: "İtalya", language: "Latince", original: "abacus", image: "İtalya.jpg" },
  "buğu": { region: "Orta Asya", language: "Eski Türkçe", original: "?", image: "Orta Asya.jpg" },
  "tortu": { region: "İran", language: "Farsça", original: "durde", image: "Iran.jpg" },
  "maden": { region: "Arap Yarımadası", language: "Arapça", original: "maˁdin", image: "Arap Yarımadası.jpg" },
  "abanmak": { region: "Arap Yarımadası", language: "Arapça", original: "imlāˀ", image: "Arap Yarımadası.jpg" },
  "demir": { region: "Orta Asya", language: "Eski Türkçe", original: "témür", image: "Orta Asya.jpg" },
  "altın": { region: "Orta Asya", language: "Eski Türkçe", original: "altun", image: "Orta Asya.jpg" },
  "gümüş": { region: "Orta Asya", language: "Eski Türkçe", original: "kümüş", image: "Orta Asya.jpg" },
  "kurşun": { region: "Orta Asya", language: "Eski Türkçe", original: "kuruğ", image: "Orta Asya.jpg" },
  "çelik": { region: "Türk Devletleri", language: "Türkçe", original: "çelik", image: "Orta Asya.jpg" },
  "somun": { region: "Yunanistan", language: "Yeni Yunanistan", original: "psomin", image: "Yunanistan.jpg" },
  "vida": { region: "İtalya", language: "Venedikçe", original: "vida", image: "Venedik.jpg" },
  "makara": { region: "Arap Yarımadası", language: "Arapça", original: "bakara", image: "Arap Yarımadası.jpg" },
  "kömür": { region: "Orta Asya", language: "Eski Türkçe", original: "köñ-", image: "Orta Asya.jpg" },
  "petrol": { region: "Fransa", language: "Fransızca", original: "pétrole", image: "Fransa.jpg" },
  "gaz": { region: "Fransa", language: "Fransızca", original: "gaze", image: "Fransa.jpg" },
  "enerji": { region: "Fransa", language: "Fransızca", original: "énérgie", image: "Fransa.jpg" },
  "hız": { region: "İran", language: "Farsça", original: "χīz", image: "Iran.jpg" },
  "güç": { region: "Orta Asya", language: "Eski Türkçe", original: "küç", image: "Orta Asya.jpg" },
  "hareket": { region: "Arap Yarımadası", language: "Arapça", original: "ḥaraka", image: "Arap Yarımadası.jpg" },
  "abide": { region: "Arap Yarımadası", language: "Arapça", original: "ābida", image: "Arap Yarımadası.jpg" },
  "acil": { region: "Arap Yarımadası", language: "Arapça", original: "ˁācil", image: "Arap Yarımadası.jpg" },
  "yankı": { region: "Orta Asya", language: "Eski Türkçe", original: "yan-", image: "Orta Asya.jpg" },
  "acaba": { region: "Arap Yarımadası", language: "Arapça", original: "ˁacab", image: "Arap Yarımadası.jpg" },
  "renk": { region: "İran", language: "Farsça", original: "rang", image: "Iran.jpg" },
  "taslak": { region: "Türk Devletleri", language: "Türkçe", original: "tasla-", image: "Orta Asya.jpg" },
  "cetvel": { region: "Arap Yarımadası", language: "Arapça", original: "cadwal", image: "Arap Yarımadası.jpg" },
  "şekil": { region: "Arap Yarımadası", language: "Arapça", original: "şakl", image: "Arap Yarımadası.jpg" },
  "hacim": { region: "Arap Yarımadası", language: "Arapça", original: "ḥacm", image: "Arap Yarımadası.jpg" },
  "adet": { region: "Arap Yarımadası", language: "Arapça", original: "ˁadad", image: "Arap Yarımadası.jpg" },
  "ayar": { region: "Arap Yarımadası", language: "Arapça", original: "ˁiyār", image: "Arap Yarımadası.jpg" },
  "akvaryum": { region: "İtalya", language: "Yeni İtalyanca", original: "aquarium", image: "İtalya.jpg" },
  "alan": { region: "Orta Asya", language: "Eski Türkçe", original: "alaŋ", image: "Orta Asya.jpg" },
  "şiddet": { region: "Arap Yarımadası", language: "Arapça", original: "şidda", image: "Arap Yarımadası.jpg" },
  "kütle": { region: "Arap Yarımadası", language: "Arapça", original: "kutla", image: "Arap Yarımadası.jpg" },
  "sure": { region: "Arap Yarımadası", language: "Arapça", original: "sūra", image: "Arap Yarımadası.jpg" },
  "yol": { region: "Orta Doğu", language: "Ana Türkçe", original: "yo-", image: "OrtaDogu.jpg" },
  "magazin": { region: "İngiltere", language: "İngilizce", original: "magazine", image: "Ingiltere.jpg" },
  "düzen": { region: "Türk Devletleri", language: "Türkçe", original: "düz-", image: "Orta Asya.jpg" },
  "imge": { region: "Türk Devletleri", language: "Türkçe", original: "im", image: "Orta Asya.jpg" },
  "sembol": { region: "Fransa", language: "Fransızca", original: "symbole", image: "Fransa.jpg" },
  "mantık": { region: "Arap Yarımadası", language: "Arapça", original: "manṭiḳ", image: "Arap Yarımadası.jpg" },
  "düğme": { region: "Orta Asya", language: "Eski Türkçe", original: "tügme", image: "Orta Asya.jpg" },
  "abdal": { region: "Arap Yarımadası", language: "Arapça", original: "abdāl", image: "Arap Yarımadası.jpg" },
  "görüş": { region: "Arap Yarımadası", language: "Arapça", original: "imlā", image: "Arap Yarımadası.jpg" },
  "kavramak": { region: "Arap Yarımadası", language: "Arapça", original: "imlā", image: "Arap Yarımadası.jpg" },
  "kültür": { region: "Fransa", language: "Fransızca", original: "culture", image: "Fransa.jpg" },
  "torba": { region: "İran", language: "Farsça", original: "tōbre", image: "Iran.jpg" },
  "matem": { region: "Arap Yarımadası", language: "Arapça", original: "maˀtam", image: "Arap Yarımadası.jpg" },
  "karton": { region: "Fransa", language: "Fransızca", original: "carton", image: "Fransa.jpg" },
  "tebrik": { region: "Arap Yarımadası", language: "Arapça", original: "tabrīk", image: "Arap Yarımadası.jpg" },
  "dil": { region: "Orta Asya", language: "Eski Türkçe", original: "tıl", image: "Orta Asya.jpg" },
  "alfabe": { region: "Fransa", language: "Fransızca", original: "alphabet", image: "Fransa.jpg" },
  "hece": { region: "Arap Yarımadası", language: "Arapça", original: "hacāˀ", image: "Arap Yarımadası.jpg" },
  "cümle": { region: "Arap Yarımadası", language: "Arapça", original: "cumla", image: "Arap Yarımadası.jpg" },
  "tümce": { region: "Türk Devletleri", language: "Türkçe", original: "tüm", image: "Orta Asya.jpg" },
  "metin": { region: "Arap Yarımadası", language: "Arapça", original: "matn", image: "Arap Yarımadası.jpg" },
  "hikâye": { region: "Arap Yarımadası", language: "Arapça", original: "ḥikāya", image: "Arap Yarımadası.jpg" },
  "masal": { region: "Arap Yarımadası", language: "Arapça", original: "mas̠al", image: "Arap Yarımadası.jpg" },
  "efsane": { region: "İran", language: "Frasça", original: "afsāne", image: "Iran.jpg" },
  "tarih": { region: "Arap Yarımadası", language: "Arapça", original: "taˀrīχ", image: "Arap Yarımadası.jpg" },
  "kod": { region: "İngiltere", language: "İngilizce", original: "code", image: "Ingiltere.jpg" },
  "kral": { region: "Sırbistan", language: "Sırpça", original: "kral", image: "Sirbistan.jpg" },
  "devlet": { region: "Ara Yarımadası", language: "Arapça", original: "dawla", image: "Arap Yarımadası.jpg" },
  "yasa": { region: "Orta Asya", language: "Moğolca", original: "yasag", image: "Mogolistan.jpg" },
  "bilim": { region: "Orta Asya", language: "Kırgızca", original: "bilim", image: "Kirgizistan.jpg" },
  "sanat": { region: "Arap Yarımadası", language: "Arapça", original: "ṣanˁa", image: "Arap Yarımadası.jpg" },
  "müzik": { region: "Fransa", language: "Fransızca", original: "musique", image: "Fransa.jpg" },
  "resim": { region: "Arap Yarımadası", language: "Arapça", original: "rasm", image: "Arap Yarımadası.jpg" },
  "spor": { region: "Fransa", language: "Fransızca", original: "sport", image: "Fransa.jpg" },
  "oyun": { region: "Orta Asya", language: "Eski Türkçe", original: "oyug", image: "Orta Asya.jpg" },
  "bulmak": { region: "Arap Yarımadası", language: "Arapça", original: "imlāˀ", image: "Arap Yarımadası.jpg" },
  "martı": { region: "İtalya", language: "İtalyanca", original: "martin", image: "İtalya.jpg" },
  "ton": { region: "Fransa", language: "Fransızca", original: "ton", image: "Fransa.jpg" },
  "mezun": { region: "Arap Yarımadası", language: "Arapça", original: "maˀḏūn", image: "Arap Yarımadası.jpg" },
  "final": { region: "Fransa", language: "Fransızca", original: "final", image: "Fransa.jpg" }
};

const map = document.getElementById('map');
const viewport = document.getElementById('viewport');
const input = document.getElementById('search');
const suggestionsBox = document.getElementById('suggestions');
const result = document.getElementById('result');
const info = document.getElementById('info');
const img = document.getElementById('result-img');
const closeBtn = document.getElementById('close');

const contextText = document.getElementById('context-text');

const introOverlay = document.getElementById('intro-overlay');
const startBtn = document.getElementById('start-btn');
const searchContainer = document.getElementById('search-container');

let scale = 2.5; 
let translateX = -window.innerWidth * 2; 
let translateY = 0;
let dragging = false;
let introActive = true; 

let lastX = 0, lastY = 0;

function updateTransform() {
  map.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
}
updateTransform();

startBtn.addEventListener('click', () => {
  startBtn.classList.add('btn-zoom-effect');
  introOverlay.classList.add('fade-out');

  const targetScale = 1.0;
  const duration = 1500; 
  const startScale = scale;
  const startTime = performance.now();

  function animateZoom(currentTime) {
    const elapsed = currentTime - startTime;
    const progress = Math.min(elapsed / duration, 1);
    
    const ease = 1 - Math.pow(1 - progress, 3);
    
    scale = startScale - ((startScale - targetScale) * ease);
    updateTransform();

    if (progress < 1) {
      requestAnimationFrame(animateZoom);
    } else {
      introOverlay.style.display = 'none';
      introActive = false; 
      searchContainer.classList.add('visible');
    }
  }

  requestAnimationFrame(animateZoom);
});


viewport.addEventListener('mousedown', e => { 
  if(introActive) return; 
  dragging = true; lastX = e.clientX; lastY = e.clientY; 
});

window.addEventListener('mousemove', e => {
  if (!dragging || introActive) return;
  translateX += (e.clientX - lastX);
  
  if (scale > 1) {
    translateY += (e.clientY - lastY);
    const maxY = (window.innerHeight * scale - window.innerHeight) / 2;
    translateY = Math.min(Math.max(translateY, -maxY), maxY);
  }

  const w = window.innerWidth;
  if (translateX < -4 * w) translateX += w;
  if (translateX > 0) translateX -= w;

  lastX = e.clientX; lastY = e.clientY;
  updateTransform();
});

window.addEventListener('mouseup', () => dragging = false);

viewport.addEventListener('wheel', e => {
  if(introActive) return;
  e.preventDefault();
  scale += e.deltaY < 0 ? 0.1 : -0.1;
  scale = Math.min(Math.max(scale, 1), 4);
  updateTransform();
}, { passive: false });

function searchWord(key) {
  if (database[key]) {
    const d = database[key];
    img.src = d.image;
    info.innerHTML = `<strong>Kelime:</strong> ${key}<br>
                      <strong>Coğrafya:</strong> ${d.region}<br>
                      <strong>Dil:</strong> ${d.language}<br>
                      <strong>Özgün Hâli:</strong> ${d.original}`;
    
    let regionKey = d.region;
    
    if (d.region.includes("Türk Cumhuriyetleri")) regionKey = "Türk Cumhuriyetleri";
    else if (d.region.includes("Türk Devletleri")) regionKey = "Türk Devletleri";
    else if (d.region.includes("İran")) regionKey = "İran"; 

    if (contextData[regionKey]) {
      contextText.innerText = contextData[regionKey];
    } else if (contextData[d.region]) {
      contextText.innerText = contextData[d.region];
    } else {
      contextText.innerText = "Bu bölge için detaylı tarihsel bağlam bilgisi bulunamadı.";
    }

    result.classList.add('active');
    
    input.value = key;
    suggestionsBox.innerHTML = '';
    suggestionsBox.style.display = 'none';
  } else {
    alert('Kelime veri tabanında bulunamadı');
  }
}

input.addEventListener('keydown', e => {
  if (e.key === 'Enter') {
    const key = input.value.trim().toLowerCase();
    searchWord(key);
  }
});

input.addEventListener('input', () => {
  const query = input.value.trim().toLowerCase();
  suggestionsBox.innerHTML = '';
  
  if (!query) {
    suggestionsBox.style.display = 'none';
    return;
  }

  const matches = Object.keys(database).filter(key => key.startsWith(query));

  if (matches.length > 0) {
    matches.forEach(match => {
      const div = document.createElement('div');
      div.className = 'suggestion-item';
      div.innerHTML = `<strong>${query}</strong>${match.substring(query.length)}`; 
      div.onclick = () => searchWord(match);
      suggestionsBox.appendChild(div);
    });
    suggestionsBox.style.display = 'block';
  } else {
    suggestionsBox.style.display = 'none';
  }
});

document.addEventListener('click', (e) => {
  if (!document.getElementById('search-container').contains(e.target)) {
    suggestionsBox.style.display = 'none';
  }
});

closeBtn.onclick = () => {
  result.classList.remove('active');
};

</script>
</body>
</html>
